# Performance testing

## Before using `pm2`

``` code
pnpx autocannon -d 11 --renderStatusCodes http://localhost:8080/api/games/
Running 11s test @ http://localhost:8080/api/games/
10 connections


┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev   │ Max   │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼───────┤
│ Latency │ 3 ms │ 5 ms │ 8 ms  │ 9 ms │ 4.89 ms │ 1.45 ms │ 45 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴───────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬──────────┬─────────┬───────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg      │ Stdev   │ Min   │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼───────┤
│ Req/Sec   │ 1,673   │ 1,673   │ 1,860   │ 1,930   │ 1,831.64 │ 72.51   │ 1,673 │
├───────────┼─────────┼─────────┼─────────┼─────────┼──────────┼─────────┼───────┤
│ Bytes/Sec │ 40.1 MB │ 40.1 MB │ 44.5 MB │ 46.2 MB │ 43.8 MB  │ 1.73 MB │ 40 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴──────────┴─────────┴───────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 20148 │
└──────┴───────┘

Req/Bytes counts sampled once per second.
# of samples: 11

20k requests in 11.01s, 482 MB read
```

## After using `pm2`

``` code
pnpx autocannon -d 11 --renderStatusCodes http://localhost:8080/api/games/
Running 11s test @ http://localhost:8080/api/games/
10 connections


┌─────────┬──────┬──────┬───────┬──────┬─────────┬─────────┬───────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%  │ Avg     │ Stdev   │ Max   │
├─────────┼──────┼──────┼───────┼──────┼─────────┼─────────┼───────┤
│ Latency │ 1 ms │ 2 ms │ 4 ms  │ 5 ms │ 1.87 ms │ 1.19 ms │ 53 ms │
└─────────┴──────┴──────┴───────┴──────┴─────────┴─────────┴───────┘
┌───────────┬─────────┬─────────┬────────┬────────┬──────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%    │ 97.5%  │ Avg      │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼────────┼────────┼──────────┼─────────┼─────────┤
│ Req/Sec   │ 3,247   │ 3,247   │ 4,239  │ 4,539  │ 4,210.73 │ 336.1   │ 3,247   │
├───────────┼─────────┼─────────┼────────┼────────┼──────────┼─────────┼─────────┤
│ Bytes/Sec │ 77.8 MB │ 77.8 MB │ 101 MB │ 109 MB │ 101 MB   │ 8.04 MB │ 77.7 MB │
└───────────┴─────────┴─────────┴────────┴────────┴──────────┴─────────┴─────────┘
┌──────┬───────┐
│ Code │ Count │
├──────┼───────┤
│ 200  │ 46314 │
└──────┴───────┘

Req/Bytes counts sampled once per second.
# of samples: 11

46k requests in 11.01s, 1.11 GB read
```